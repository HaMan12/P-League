import{u as j}from"./product-AquLqeTd.js";import{_ as L,C as B,b as d,c as g,D as v,y as k,F as N,e as T,n as M,t as x,p as E,q as V,d as n,r as b,o as F,E as C,x as I,a as H,u as z,f as y,s as O,w as D,m as U}from"./index-jMSggoKj.js";const G="/P-League/assets/shop-banner-HL30ayJz.jpg",J={props:{pagination:{type:Object,required:!0},offset:{type:Number,default:2},ulClassName:{type:String,default:""}},setup(t,{emit:a}){const o=()=>{s(1)},c=()=>{s(t.pagination.currentPage-1)},r=()=>{s(t.pagination.currentPage+1)},_=()=>{s(t.pagination.pageNo)},s=e=>{e>t.pagination.pageNo&&(e=t.pagination.pageNo),e<1&&(e=1),a("changedpage",e)},h=e=>t.pagination.currentPage===e?"number active":"number",i=B(()=>{if(!t.pagination.currentPage||!t.pagination.pageNo)return[];let e=t.pagination.currentPage-t.offset;e<1&&(e=1);let f=e+t.offset*2;f>=t.pagination.pageNo&&(f=t.pagination.pageNo);const p=[];for(;e<=f;)p.push(e),e++;return p});return{firstPage:o,prePage:c,nextPage:r,endPage:_,changePage:s,className:h,array:i}}},A=t=>(E("data-v-c5d27361"),t=t(),V(),t),K={class:"pagination-item"},Q=A(()=>n("i",{class:"fa-solid fa-chevron-left"},null,-1)),R=[Q],W=["onClick"],X=A(()=>n("i",{class:"fa-solid fa-angle-right"},null,-1)),Y=[X];function Z(t,a,o,c,r,_){return d(),g("ul",K,[o.pagination.currentPage>1?(d(),g("li",{key:0,onClick:a[0]||(a[0]=v((...s)=>c.prePage&&c.prePage(...s),["prevent"])),class:"page-links page-item",style:{cursor:"pointer"}},R)):k("",!0),(d(!0),g(N,null,T(c.array,s=>(d(),g("li",{key:s,onClick:v(h=>c.changePage(s),["prevent"]),class:M([c.className(s),"page-item"]),style:{cursor:"pointer"}},x(s),11,W))),128)),o.pagination.currentPage<o.pagination.pageNo?(d(),g("li",{key:1,onClick:a[1]||(a[1]=v((...s)=>c.nextPage&&c.nextPage(...s),["prevent"])),class:"page-link page-item",style:{cursor:"pointer"}},Y)):k("",!0)])}const q=L(J,[["render",Z],["__scopeId","data-v-c5d27361"]]);function ee(t,a,o){return{pageSizeChanged:function(i){t.pageSize=a.pageSize=i,t.currentPage=a.currentPage=1,a.keyword!==""||!(a.searchType||a.isAdvance)?o():o(1)},changedPage:function(i){t.pageNo=a.pageNo=t.currentPage=a.currentPage=i,a.keyword!==""||!(a.searchType||a.isAdvance)?o():o(1)},computePagination:function(i){var e=t;e.total=i,e.pageNo=Math.ceil(e.total/e.pageSize),e.total<=0?(e.total=0,e.startIndex=0):e.startIndex=1+(e.currentPage-1)*e.pageSize,e.endIndex=e.currentPage*e.pageSize,e.endIndex>i&&(e.endIndex=i)},tabChanged:function(i){a.filterType=i,t.currentPage=a.currentPage=1,a.isAdvance||a.searchType?o(1):o()},computeIndex:function(i,e){a.filterType=idx,i.forEach(function(f,p){f.index=(e.currentPage-1)*e.pageSize+p+1})}}}const $=t=>(E("data-v-10d72fbf"),t=t(),V(),t),te=O('<section data-v-10d72fbf><h3 class="title-style" data-v-10d72fbf>P.LEAGUE+ SHOP</h3><div data-v-10d72fbf><img src="'+G+'" class="w-full" data-v-10d72fbf></div><div class="max-w-1280 mx-auto py-4" data-v-10d72fbf><ul class="center" data-v-10d72fbf><li class="bg-active text-white px-4 py-2 text-sm font-bold cursor-pointer | md:px-5 md:text-base" data-v-10d72fbf>所有商品</li></ul></div></section>',1),ae={class:"w-full bg-white"},ne={class:"max-w-1280 mx-auto py-4 | md:py-10"},oe=$(()=>n("div",{class:"text-center font-bold"},[n("h2",{class:"text-black text-3xl hidden | md:block"},"所有商品"),n("h5",{class:"text-red py-5"},"黑潮來襲！全新系列低調上市！")],-1)),se={class:"flex flex-wrap"},ie={class:"card-product text-black font-bold"},ce=["src"],re={class:"flex justify-between px-2 py-3 | md:px-5"},le={class:"text-xs"},de={class:"tet-lg"},ge={class:"relative"},ue=["onClick"],fe=$(()=>n("i",{class:"fa-regular fa-heart"},null,-1)),_e=[fe],pe={key:0,class:"absolute top-10 -left-5 w-[60px] z-20 text-sm text-red | md:-left-3"},he={class:"text-center text-white bg-black mx-3 my-5 opacity-0"},me={class:"pagination"},xe={class:"text-center text-black my-5"},Pe={__name:"Commodity",setup(t){const a=j(),o=b(a.shopData),c=b({currentPage:1,pageSize:12}),r=b({currentPage:1,pageSize:12,total:0,pageNo:0,startIndex:0,endIndex:0,totalPages:0}),_=()=>{c.currentPage=r.currentPage,c.pageSize=r.pageSize,h(r.total)};F(()=>{_()});const{changedPage:s,computePagination:h}=ee(r,c,_);C(()=>{r.total=o.length});function i(u,S,m){const l=(S-1)*m,P=l+m;return u.slice(l,P)}let e=I([]);C(()=>{e.value=i(o,r.currentPage,r.pageSize)});const f=I(null),p=u=>{f.value=u,o[u].isLiked=!o[u].isLiked},w=u=>u.replace(/[^\w\s\u4e00-\u9fa5-]/g,"").replace(/\s+/g,"-").toLowerCase();return(u,S)=>{const m=H("router-link");return d(),g(N,null,[te,n("section",ae,[n("div",ne,[oe,n("div",se,[(d(!0),g(N,null,T(z(e),(l,P)=>(d(),g("div",{class:"w-1/2 | md:w-1/4",key:l.id},[n("div",ie,[y(m,{to:{name:"ProductDetail",params:{productId:l.id,productName:w(l.name)}}},{default:D(()=>[n("img",{src:l.imgUrl,alt:""},null,8,ce)]),_:2},1032,["to"]),n("div",re,[n("div",null,[n("h3",le,x(l.name),1),n("h5",de,"NTD "+x(l.NTD),1)]),n("div",ge,[n("button",{class:"w-8 h-8 rounded-full bg-[#f3f5f9] hover:text-red",onClick:ve=>p(P)},_e,8,ue),l.isLiked?(d(),g("div",pe,"收藏成功")):k("",!0)])]),n("div",he,[y(m,{to:{name:"ProductDetail",params:{productId:l.id,productName:w(l.name)}},class:"inline-block w-full py-2"},{default:D(()=>[U(" 前往購買 ")]),_:2},1032,["to"])])])]))),128))]),n("div",me,[y(q,{pagination:r,offset:5,onChangedpage:z(s)},null,8,["pagination","onChangedpage"]),n("p",xe,"目前在第"+x(r.currentPage)+"頁,共"+x(r.pageNo)+"頁",1)])])])],64)}}},ke=L(Pe,[["__scopeId","data-v-10d72fbf"]]);export{ke as default};
